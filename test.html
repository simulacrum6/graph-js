<html>

<head>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
    <script src="graph.js"></script>
</head>

<body>
    <p>Open developer console to see tests</p>
    <script>
        function Point(x, y) {
            this.x = x;
            this.y = y;
        };
        Point.prototype.toString = function () {
            return '(' + this.x + ',' + this.y + ')'
        }

        function distance(point1, point2) {
            return Math.hypot(point1.x - point2.x, point1.y - point2.y);
        };

        var vertices = [
            new Point(0, 0),
            new Point(2, 2),
            new Point(2, 4),
            new Point(5, 4),
            new Point(6, 2),
            new Point(1, 5),
            new Point(4, 6),
            new Point(6, 6),
            new Point(8, 6),
            new Point(9, 4),
            new Point(7, 4),
            new Point(10, 1),
            new Point(11, 11)
        ];
        console.log('Vertices:')
        vertices.forEach(vertex => console.log(vertex))

        var edges = [
            new Edge(0, 1, distance(vertices[0], vertices[1])),
            new Edge(1, 2, distance(vertices[1], vertices[2])),
            new Edge(2, 5, distance(vertices[2], vertices[5])),
            new Edge(2, 6, distance(vertices[2], vertices[6])),
            new Edge(2, 3, distance(vertices[2], vertices[3])),
            new Edge(1, 3, distance(vertices[1], vertices[3])),
            new Edge(6, 7, distance(vertices[6], vertices[7])),
            new Edge(3, 4, distance(vertices[3], vertices[4])),
            new Edge(3, 10, distance(vertices[3], vertices[10])),
            new Edge(4, 10, distance(vertices[4], vertices[10])),
            new Edge(10, 7, distance(vertices[10], vertices[7])),
            new Edge(7, 8, distance(vertices[7], vertices[8])),
            new Edge(10, 8, distance(vertices[10], vertices[8])),
            new Edge(3, 8, distance(vertices[3], vertices[8])),
            new Edge(10, 9, distance(vertices[10], vertices[9])),
            new Edge(8, 9, distance(vertices[8], vertices[9])),
            new Edge(9, 11, distance(vertices[9], vertices[11])),
            new Edge(4, 7, distance(vertices[4], vertices[7]))
        ];
        console.log('Edges:')
        edges.forEach(edge => console.log(edge))

        // [TEST]: GraphFactory & Graph
        console.log('--------------')
        console.log('GRAPHFACTORY TEST')
        var graphFactory = new GraphFactory();

        console.log('directed graph:')
        var graph = graphFactory.createDirectedGraph(vertices, edges);
        graph.show();
        console.log('directed & weighted graph:')
        graph = graphFactory.createDirectedWeightedGraph(vertices, edges);
        graph.show();
        console.log('undirected graph:')
        graph = graphFactory.createUndirectedGraph(vertices, edges);
        graph.show();
        console.log('undirected & weighted graph:')
        graph = graphFactory.createUndirectedWeightedGraph(vertices, edges);
        graph.show()
        console.log('--------------')

        console.log('--------------')
        console.log('GRAPH FUNCTIONS')
        console.log('contains')
        console.log(graph.contains(1337))
        console.log(graph.contains(1))
        console.log(graph.contains_all([0, 1, 9]))
        console.log(graph.contains_all([1337, 0, 1, 9]))
        console.log(graph.contains([0, 1, 2]))
        console.log('--------------')


        // [TEST]: GraphSearcher
        console.log('--------------')
        console.log('GRAPH SEARCHER')
        var start = 0;
        var target = 10;
        console.log('start: ' + start + '\n target: ' + target)

        var searcher = new GraphSearcher(graph);
        console.log("DephtFirstSearch")
        console.log(searcher.dfs(start, target));
        console.log("A* Search")
        console.log(searcher.aStarSearch(start, target, distance, distance));
        console.log('BreadthFirstSearch')
        console.log(searcher.bfs(start, target))
        console.log('--------------')

        // [TEST]: PriorityQueue
        console.log('--------------')
        console.log('PRIORITY QUEUE')
        var first = { "id": "first out" };
        var second = { "id": "second out" };
        var third = { "id": "third out" };
        var fourth = { "id": "fourth out" };
        var last = { "id": "last out" }

        var prioTest = new PriorityQueue();
        prioTest.add(first, 1);
        prioTest.add(second, 2);
        prioTest.add(last, 5);
        prioTest.add(fourth, 4);
        prioTest.add(third, 3);

        while (prioTest.size() > 0)
            console.log(prioTest.poll());
        console.log('--------------')

	// Future testcases:
	/*
	var depthFirstSearch = new DepthFirstSearch();
		depthFirstSearch.search(start, target, graph);
	var breadthFirstSearch = new DepthFirstSearch();
		depthFirstSearch.search(start, target, graph);
	
	var searcher = new GraphSearcher(graph);
		searcher.add(depthFirstSearch);
		searcher.add(breadthFirstSearch);
		searcher.search(start, target);

		searcher.search(start, target, new AStarSearch());

		// [TEST]: Inheritance
		var testSearchNode1 = new TestSearchNode (1);
		var testSearchNode2 = new TestSearchNode (2, testSearchNode1);
		var testSearchNode3 = new TestSearchNode (3, testSearchNode2);
		console.log(testSearchNode3.retrievePath());
		
		var testPriorityNode = new TestPriorityNode (2,1,3);

		console.log(testPriorityNode instanceof TestSearchNode);
	*/

    </script>
</body>

</html>