<html>
<head>
	<script  src="https://code.jquery.com/jquery-3.1.1.min.js"integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="crossorigin="anonymous"></script>
	<script src="graph.js"></script>
</head>
<body>
<p>Open developer console to see tests</p>
<script>
	function Point (x,y) {
		this.x = x;
		this.y = y;
	};
	
	function distance (point1, point2) {
		return Math.hypot(point1.x - point2.x, point1.y - point2.y);
	};
	
	var map = [
		new Point(0,0),
		new Point(2,2),
		new Point(2,4),
		new Point(5,4),
		new Point(6,2),
		new Point(1,5),
		new Point(4,6),
		new Point(6,6),
		new Point(8,6),
		new Point(9,4),
		new Point(7,4),
		new Point(10,1),
		new Point(11,11)
	];
	var edges = [
		new Edge(0, 1, distance(map[0], map[1])),
		new Edge(1, 2, distance(map[1], map[2])),
		new Edge(2, 5, distance(map[2], map[5])),
		new Edge(2, 6, distance(map[2], map[6])),
		new Edge(2, 3, distance(map[2], map[3])),
		new Edge(1, 3, distance(map[1], map[3])),
		new Edge(6, 7, distance(map[6], map[7])),
		new Edge(3, 4, distance(map[3], map[4])),
		new Edge(3, 10, distance(map[3], map[10])),
		new Edge(4, 10, distance(map[4], map[10])),
		new Edge(10, 7, distance(map[10], map[7])),
		new Edge(7, 8, distance(map[7], map[8])),
		new Edge(10, 8, distance(map[10], map[8])),
		new Edge(3, 8, distance(map[3], map[8])),
		new Edge(10, 9, distance(map[10], map[9])),
		new Edge(8, 9, distance(map[8], map[9])),
		new Edge(9, 11, distance(map[9], map[11])),
		new Edge(4, 7, distance(map[4], map[7]))
	];

	// [TEST]: GraphFactory & Graph
	var graphFactory = new GraphFactory();

	var graph = graphFactory.createDirectedWeightedGraph(map, edges);
		graph.show();
		graph = graphFactory.createUndirectedGraph(map, edges);
		graph.show();
		graph = graphFactory.createDirectedGraph(map, edges);
		graph.show(); 
		graph = graphFactory.createUndirectedWeightedGraph(map, edges);		
	
	// [TEST]: GraphSearcher
	var start = 0;
	var target = 10;

	var searcher = new GraphSearcher(graph);
		console.log("DephtFirstSearch:")
		console.log(searcher.dfs(start, target)); 
		console.log("A* Search:")
		console.log(searcher.aStarSearch(start, target, distance, distance));

	// [TEST]: PriorityQueue
	var first = {"id": "first out"};
	var second = {"id": "second out"};
	var third = {"id": "third out"};
	var fourth = {"id": "fourth out"};
	var last =  {"id": "last out"}
	
	var prioTest = new PriorityQueue();
		prioTest.add(first, 1);
		prioTest.add(second, 2);
		prioTest.add(last, 5);
		prioTest.add(fourth, 4);
		prioTest.add(third, 3);

	while (prioTest.size() > 0)
		console.log(prioTest.poll());
	
	// Future testcases:
	/*
	var depthFirstSearch = new DepthFirstSearch();
		depthFirstSearch.search(start, target, graph);
	var breadthFirstSearch = new DepthFirstSearch();
		depthFirstSearch.search(start, target, graph);
	
	var searcher = new GraphSearcher(graph);
		searcher.add(depthFirstSearch);
		searcher.add(breadthFirstSearch);
		searcher.search(start, target);

		searcher.search(start, target, new AStarSearch());

		// [TEST]: Inheritance
		var testSearchNode1 = new TestSearchNode (1);
		var testSearchNode2 = new TestSearchNode (2, testSearchNode1);
		var testSearchNode3 = new TestSearchNode (3, testSearchNode2);
		console.log(testSearchNode3.retrievePath());
		
		var testPriorityNode = new TestPriorityNode (2,1,3);

		console.log(testPriorityNode instanceof TestSearchNode);
	*/
</script>
</body>
</html>